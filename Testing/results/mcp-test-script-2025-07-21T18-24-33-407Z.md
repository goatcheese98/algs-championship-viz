
# Playwright MCP Test Script for ALGS CSS Performance
# Run these commands in Claude Desktop with Playwright MCP enabled

## 1. Performance Testing
# Navigate to the application
mcp__playwright__navigate("http://localhost:3000")

# Take performance measurements
mcp__playwright__evaluate_js(`
  // Measure CSS load performance
  const cssLoadTimes = [];
  const observer = new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
      if (entry.name.includes('.css')) {
        cssLoadTimes.push({
          file: entry.name,
          duration: entry.duration,
          startTime: entry.startTime,
          transferSize: entry.transferSize
        });
      }
    }
  });
  observer.observe({entryTypes: ['resource']});
  
  // Get paint metrics
  const paintMetrics = performance.getEntriesByType('paint');
  console.log('CSS Resources:', cssLoadTimes);
  console.log('Paint Metrics:', paintMetrics);
`)

## 2. Visual Regression Testing
# Take baseline screenshots
mcp__playwright__screenshot("dashboard-baseline.png", { fullPage: true })

# Navigate to tournament page
mcp__playwright__navigate("http://localhost:3000/tournament/year-4-championship")
mcp__playwright__screenshot("tournament-baseline.png", { fullPage: true })

# Test responsive layouts
mcp__playwright__set_viewport(375, 667)  # iPhone
mcp__playwright__screenshot("mobile-layout.png", { fullPage: true })

mcp__playwright__set_viewport(768, 1024) # Tablet
mcp__playwright__screenshot("tablet-layout.png", { fullPage: true })

mcp__playwright__set_viewport(1920, 1080) # Desktop
mcp__playwright__screenshot("desktop-layout.png", { fullPage: true })

## 3. CSS Coverage Analysis
mcp__playwright__start_css_coverage()

# Navigate through the application
mcp__playwright__navigate("http://localhost:3000")
mcp__playwright__wait_for_selector(".dashboard-container")

mcp__playwright__navigate("http://localhost:3000/tournament/year-4-championship")
mcp__playwright__wait_for_selector(".tournament-header")

# Interact with components
mcp__playwright__click(".btn-filter")
mcp__playwright__click(".map-badge")
mcp__playwright__click(".tournament-nav-button")

# Stop coverage and analyze
coverage_data = mcp__playwright__stop_css_coverage()
print("CSS Coverage Analysis:", coverage_data)

## 4. Cross-Browser Testing
# Test in different browsers (would need separate instances)
# Results comparison would show browser-specific performance differences
